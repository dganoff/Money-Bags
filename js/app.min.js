/*! MoneyBags ver. 0.0.1 03-06-2014, 7:15:25 PM */
"use strict";var app=angular.module("MoneyBags",[]);app.controller("ExpensesCtrl",["$scope",function(a){a.saveExpenses=function(){localStorage["budget.income"]=a.income,localStorage["budget.expenses"]=JSON.stringify(a.expenses),localStorage["budget.oneTimeExpenses"]=JSON.stringify(a.oneTimeExpenses)},a.expenses=localStorage["budget.expenses"]?JSON.parse(localStorage["budget.expenses"]):[],a.income=localStorage["budget.income"]?parseInt(localStorage["budget.income"]):0,a.addExpense=function(){a.expenses.push({name:a.expenseName,amount:a.expenseAmount}),a.saveExpenses(),a.expenseName=void 0,a.expenseAmount=void 0},a.deleteExpense=function(b){var c=a.expenses.indexOf(b);-1!=c&&a.expenses.splice(c,1),a.saveExpenses()},a.filter="amount",a.changeFilter=function(b){a.filter=a.filter==b?"-"+b:b},a.total=function(b){for(var c,d=0,e=0;c=a.expenses[e];e++)d+=+c.amount;for(var f=0;f<a.oneTimeExpenses.length;f++)a.oneTimeExpenses[f].month==b&&(d+=a.oneTimeExpenses[f].amount);return d},a.oneTimeExpenses=localStorage["budget.oneTimeExpenses"]?JSON.parse(localStorage["budget.oneTimeExpenses"]):[],a.addOneTimeExpense=function(){a.oneTimeExpenses.push({name:a.oneTimeExpenseName,amount:a.oneTimeExpenseAmount,month:a.oneTimeExpenseMonth}),a.saveExpenses(),a.oneTimeExpenseName=void 0,a.oneTimeExpenseAmount=void 0,a.oneTimeExpenseMonth=void 0},a.deleteOneTimeExpense=function(b){var c=a.oneTimeExpenses.indexOf(b);-1!=c&&a.oneTimeExpenses.splice(c,1),a.saveExpenses()},a.year={months:["January","February","March","April","May","June","July","August","September","October","November","December"],getMonthExpenses:function(){var b=a.total()/a.year.months.length;return b},getMonthNet:function(b){var c=a.income-a.total(b);return c},getMonthNetClass:function(b){var c;return a.year.getMonthNet(b)>0?c="green":a.year.getMonthNet(b)<0&&(c="red"),c},getYearlySavings:function(){for(var b=0,c=0;c<a.year.months.length;c++)b+=a.year.getMonthNet(a.year.months[c]);return b}}}]);